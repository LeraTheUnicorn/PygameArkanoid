# История изменений

## [1.5.1] - 2025-11-28

### Новые функции интерфейса
- Добавлен выход из игры по клавише ESC из любого места
- Добавлен выход из игры по крестику окна из любого места  
- Добавлена возможность просмотра таблицы рекордов по клавише H на стартовом экране
- Реализовано разное поведение ESC в зависимости от контекста (ввод имени vs экран результатов)
- Добавлено цветное выделение ключевых клавиш (Enter, H, M, ESC) в подсказках
- Добавлена функция render_colored_hint() для цветного выделения
- Добавлено сохранение состояния ввода при переходах между экранами

### Архитектурные улучшения
- Обновлена сигнатура функции show_highscores() с добавлением параметра exit_on_esc
- Изменен тип возврата show_highscores() на tuple[bool, bool] (музыка, выход_из_игры)
- Добавлена умная навигация: ESC и Backspace ведут себя по-разному в разных контекстах
- Добавлена синхронизация состояния музыки между всеми экранами

### Тестирование
- Создана директория tests/ для централизованного хранения тестов
- Перемещены все тестовые файлы в директорию tests/
- Создан tests/__init__.py для корректной работы Python пакета
- Добавлен tests/README.md с документацией по тестам
- Создан test_interface_improvements.py - полный тест улучшений интерфейса
- Создан test_interface_simple.py - упрощенный тест интерфейса
- Создан test_strict_10_limit.py - тест ограничения на 10 записей

### Документация
- Обновлен README.md с новыми функциями интерфейса
- Обновлено описание управления с учетом новых возможностей
- Добавлена информация о директории tests/ в структуру проекта
- Обновлена информация о звуковой системе

### Исправления
- Исправлен запуск фоновой музыки (больше не запускается до экрана ввода имени)
- Убраны устаревшие звуковые файлы Jump*.wav и bounce.wav из каталога sounds
- Обновлена версия до 1.5.1

## [1.4.4] - 2025-11-28

- Исправлено отображение таблицы чартов - данные теперь выровнены по центру колонок
- Колонки имеют ширину: длина заголовка + 2 пробела (один слева, один справа)
- Добавлена функция render_colored_hint() для выделения цветом ключевых слов
- Выделены цветом слова Enter, H, M, ESC во всех подсказках
- Исправлен запуск фоновой музыки после ввода имени игрока
- Музыка больше не запускается автоматически до экрана ввода имени
- Обновлены подсказки: "нажмите M для отключения звука"
- Обновлена версия до 1.4.4

## [1.4.3] - 2025-11-28

- Удалены устаревшие звуковые файлы Jump*.wav из каталога sounds
- Удален файл bounce.wav из каталога sounds
- Заменена загрузка файла bounce.wav на генерацию 16-битного звука
- Добавлена функция generate_paddle_sound() для создания звука отскока от платформы
- Звук отскока от платформы теперь генерируется процедурно (E4 - 330 Гц, одинаковый всегда)
- Обновлена версия до 1.4.3

## [1.4.2] - 2025-11-28

- Добавлена горячая клавиша M для управления фоновой музыкой (работает во всех режимах игры)
- Исправлено выравнивание данных в таблице результатов (по левому краю столбцов)
- Добавлены подсказки о клавише M во все экраны игры
- Улучшена синхронизация состояния музыки между экранами
- Обновлена версия до 1.4.2

## [1.4.1] - 2025-11-28

- Исправлена ошибка AttributeError с pygame.K_H (заменено на pygame.K_h)
- Улучшено выравнивание данных в таблице результатов (20 символов для имени, точные колонки)
- Заменено проигрывание файлов Jump*.wav на генерацию 16-битных тональных звуков
- Добавлена функция generate_tone_sound() для создания коротких звуковых эффектов
- Сгенерированные звуки имеют частоты 440Гц, 523Гц, 659Гц с быстрым затуханием
- Обновлена версия до 1.4.1

## [1.4.0] - 2025-11-28

- Увеличена длина шлейфа от мяча в два раза (до 20 позиций)
- Добавлен ввод имени игрока при старте игры
- Добавлена система отсчета времени игры
- Создан модуль highscores.py для управления рекордами
- Добавлено сохранение результатов в файл highscores.json
- Добавлено отображение таблицы топ-10 рекордов после завершения игры
- Добавлена поддержка просмотра рекордов по клавише ESC во время игры
- Переведены все комментарии в коде на русский язык
- Обновлена версия до 1.4.0

## [1.3.1] - 2025-11-28

- Исправлена проблема с отсутствующими звуковыми эффектами в игре
- Добавлена инициализация pygame.mixer и система загрузки звуков
- Реализован звуковой эффект отскока от платформы (bounce.wav)
- Добавлены случайные звуковые эффекты попадания по кубикам (Jump1.wav, Jump2.wav, Jump3.wav)
- Добавлена фоновая музыка (S31-Night Prowler.ogg)
- Обновлена версия до 1.3.1

## [1.3.0] - 2025-11-28

- Исправлена ошибка кода с множественными вызовами main()
- Добавлена звуковая система с фоновой музыкой, звуком отскока платформы и звуками попадания по кубикам используя pygame.mixer

## [1.2.0] - 2025-11-28

- Очистка шлейфа мяча при паузе после потери жизни для избежания дублирования отображения мяча
- Добавлены разные звуковые сигналы для попаданий по кубикам в зависимости от цвета строки используя winsound

## [1.1.0] - 2025-11-28

- Добавлена функция перезапуска с клавишей R после окончания игры
- Пауза и отображение подсказки после потери жизни
- Цветные секции платформы (красная слева, белая в центре, синяя справа) для индикации направления отскока
- Добавлен затухающий шлейф за мячом
- Добавлены подробные комментарии по всему коду

## [1.0.0] - 2025-11-28

- Первоначальная версия с базовым геймплеем Арканоид
- Добавлен стартовый экран с подсказкой нажать стрелки
- Экран окончания игры остается открытым вместо автоматического закрытия
- Мяч стартует на платформе и отскакивает при первом движении